### ch04 审阅报告（已完成）

#### 概览
- 章节：ch04（第四章：数据侦探——可视化探索的第一性原理）
- 小节清单与定位：
  - ch04/4_1_beyond_charts.qmd
  - ch04/4_2_human_vision.qmd
  - ch04/4_3_insight_framework.qmd
  - ch04/4_4_vibe_coding_practice.qmd
  - ch04/4_5_exercises.qmd
- 总体评估：
  - FP：3/4（“投影到人类认知空间”的第一性阐释清晰；可补“编码通道有效性排序与误导边界”）
  - VC：4/4（以对话与侦探叙事驱动探索，实践与作业闭环完整）
  - BP：3/4（建议补：配色与对比度标准、可达性、静态站点可运行性、统计前提与依赖检查）
  - 一句话结论：本章很好地把“可视化=与数据对话”落到流程与产出；需补工程化与可达性标准、以及“避免误导”的系统清单。

#### 证据与问题（按小节）
- 4_1 超越图表：可视化作为“对话”（`ch04/4_1_beyond_charts.qmd`）
  - 关键论断：可视化是将高维数据通过几何编码投影到人类认知空间；以散点+趋势线引导提问。
  - 证据链接/参考：
    - 配色与可达性：Matplotlib/Seaborn 感知一致色图（viridis 等）、ColorBrewer 分型（顺序/发散/定性）、WCAG 2.2 对比度指南。
    - 编码通道有效性：Vega-Lite/博文总结（位置>长度>角度>面积>颜色色相/饱和度）。
  - 风险与边界：
    - 代码中 `trendline='ols'` 需要 `statsmodels` 依赖，构建环境缺失会报错；
    - `pio.renderers.default = "notebook"` 对静态 Quarto 站点并不稳定；
    - 未明确“先缩放/标准化后再用欧氏距离/回归”的前提，易被极值/量纲误导；
    - 建议统一数值格式（千分位/小数位）与轴范围/网格线设计，避免视觉噪声。

- 4_2 人类视觉的“超能力”（`ch04/4_2_human_vision.qmd`）
  - 关键论断：散点/直方/箱线等对应不同几何直觉与任务。
  - 证据链接/参考：
    - 色弱友好配色：Seaborn `colorblind` 调色板、ColorBrewer 定性方案；
    - 直方图/箱线图的任务适配与误用警示（箱线图受样本量敏感；直方桶宽影响结论）。
  - 风险与边界：
    - 多子图复用 px 返回的 `data[]` 轨迹写法可读性一般，建议抽象函数以避免重复；
    - 建议为每类图表补“何时不该用”的反例（如以面积编码比较微小差异会误导）。

- 4_3 从“是什么”到“为什么”：洞察提炼框架（`ch04/4_3_insight_framework.qmd`）
  - 关键论断：O-Q-A（观察-提问-行动）推动从图表到决策；以 AOV 结构性变化为案例。
  - 证据链接/参考：
    - 结构性变化诊断：分布/占比/分层（分位数、分群）与时间窗口对齐；
    - 统计前提：趋势线/比较需声明样本量、置信与变异（至少提示误差棒/置信区间）。
  - 风险与边界：
    - 案例中建议强调“销量占比变化≠价格下降”的因果区分；
    - 补充“内生/混杂因素”提示（促销、缺货、渠道切换）。

- 4_4 Vibe Coding 实践：高效的 EDA（`ch04/4_4_vibe_coding_practice.qmd`）
  - 关键论断：AI 速产 EDA，人类用“三步洞察法”提炼 3–5 张关键图与行动建议。
  - 证据链接/参考：
    - 交互性与可复现：Plotly/Altair/Vega-Lite；
    - 无障碍：WCAG 对比度、颜色冗余编码（形状/线型/注记）。
  - 风险与边界：
    - 需明确“图表选择与业务问题对齐”的评分 Rubric；
    - 建议输出“可运行 notebook + 导出的 HTML 资产”双轨，保证阅览与复现。

- 4_5 练习与作业（`ch04/4_5_exercises.qmd`）
  - 关键论断：自定义图设问、偏见揭示与交互提示词设计，契合 VC。
  - 证据链接/参考：
    - 偏见可视化：分布差异（CDF/小提琴）、错误率拆分（FPR/FNR）与条件概率图；
    - 交互散点：hover tooltips 承载多维信息，颜色仅作冗余区分。
  - 风险与边界：
    - 建议加入评分 Rubric（完整性、洞察深度、合规与去偏、复现性、叙事质量）。

#### 修订建议与优先级
- P0（阻断/错漏）
  - 将 `pio.renderers.default = "notebook"` 与依赖 `trendline='ols'` 的示例改为“预渲染 HTML 资产”或显式声明并安装依赖；提供不依赖 statsmodels 的替代版本；
  - 为所有嵌入图提供稳定方案：使用 `fig.to_html(full_html=False, include_plotlyjs='cdn')` 生成至 `book/assets/ch04/` 并以 iframe 引用；统一资源路径；
  - 在各图示例中补充轴标签、单位、千分位/小数位、图例与注记，避免歧义。

- P1（重要提升）
  - 新增“配色与可达性指南”小节：
    - 连续型：感知一致 colormap（viridis、cividis）；
    - 发散型：中性中点 + 色盲友好（RdBu/BuRd 经校正）；
    - 定性：Seaborn colorblind/ColorBrewer Paired/Set2；
    - 文本/标注对比度满足 WCAG 2.2（建议对比度≥4.5:1，大片标题≥3:1）；
  - 新增“编码通道有效性排序与常见误用”清单（位置>长度>角度>面积>颜色；少用 3D、少用彩虹色带、避免双 Y 轴误导）；
  - 对趋势/比较补“统计前提”提示：样本量、区间估计/误差棒、时间窗口一致性；
  - 为 4.4/4.5 增补作业 Rubric 与“最小提交物”模板（问题→图表选择→洞察→行动→限制与后续验证）。

- P2（打磨/风格）
  - 统一图幅、网格、字体与色板；
  - 补充图注 alt-text 与可打印（黑白）友好检查；
  - 在多图对比页加入“读图指引（标注关键差异/阈值/异常）”。

#### 资源与可复现性
- 代码/数据/环境
  - 在 `book/code/ch04/` 提供：
    1) 散点+趋势线（含“无 statsmodels”版本）
    2) 直方/箱线对比与参数敏感性
    3) 交互散点（hover tooltips/色弱友好）
  - 构建：预渲染 Plotly 为 HTML 至 `book/assets/ch04/`，页面以 iframe 引用，确保静态站点可用；
  - 补 `requirements.txt`（plotly>=5；可选 statsmodels；seaborn；pandas；numpy）。
- 资产检查
  - 新增并校验 `book/assets/ch04/*.html` 可访问性与自适应大小；
  - 文本颜色/背景对比度抽检，色弱模拟（可选）。

#### 术语与引用（访问日期 2025-08）
- 配色与可达性：Matplotlib/Seaborn 感知一致色图（viridis/cividis）、ColorBrewer 方案；WCAG 2.2 对比度指南；
- 编码通道有效性与可视化规范：Vega-Lite 编码通道与有效性推荐；
- 交互可视化：Plotly 官方文档（导出 HTML、图例与 hover 配置）。

#### 状态与动作
- 审核状态：已完成
- 责任人 / 截止时间：AI 助理 / 本周
- 变更记录：新增 FP/VC/BP 评分；补配色/可达性/编码通道/统计前提清单；提出静态站点预渲染与依赖治理方案。

### ch04 审阅报告（draft）

#### 概览
- **章节**: ch04
- **小节清单与定位**:
  - ch04/4_1_beyond_charts.qmd
  - ch04/4_2_human_vision.qmd
  - ch04/4_3_insight_framework.qmd
  - ch04/4_4_vibe_coding_practice.qmd
  - ch04/4_5_exercises.qmd
- **总体评估**:
  - **FP（第一性原理）**: 评分（1–4）：
  - **VC（Vibe Coding）**: 评分（1–4）：
  - **BP（最佳实践）**: 评分（1–4）：
  - **一句话结论**: 

#### 证据与问题（按小节）
- 4_1_beyond_charts（`ch04/4_1_beyond_charts.qmd`）
- 4_2_human_vision（`ch04/4_2_human_vision.qmd`）
- 4_3_insight_framework（`ch04/4_3_insight_framework.qmd`）
- 4_4_vibe_coding_practice（`ch04/4_4_vibe_coding_practice.qmd`）
- 4_5_exercises（`ch04/4_5_exercises.qmd`）

#### 修订建议与优先级
- **P0**：
- **P1**：
- **P2**：

#### 资源与可复现性
- 代码/数据/环境：
- 资产检查：

#### 术语与引用
- 术语表：
- 参考链接：

#### 状态与动作
- 审核状态：未开始
- 负责人 / 截止：
- 变更记录：


