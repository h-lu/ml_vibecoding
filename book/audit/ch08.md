### ch08 审阅报告（已完成）

#### 概览
- 章节：ch08（聚类与无监督学习：发现隐藏结构的艺术）
- 小节清单与定位：
  - ch08/8_1_business_challenge.qmd
  - ch08/8_2_kmeans.qmd
  - ch08/8_3_beyond_kmeans.qmd
  - ch08/8_4_clustering_evaluation.qmd
  - ch08/8_5_vibe_coding_practice.qmd
  - ch08/8_6_exercises.qmd
- 总体评估：
  - FP：3/4（探索 vs 预测的第一性区分清晰；建议在 K-means“EM 类比”与 GMM 的严格对应上补边界说明）
  - VC：4/4（三类互动资产已预渲染，任务链路完整，读者可“玩起来”）
  - BP：3/4（建议补：标准化/尺度与度量选择、DBSCAN 参数选取方法、GMM 的 AIC/BIC、层次聚类 metric/affinity 变更、评估的采样与复杂度提示）
  - 一句话结论：本章把“无监督=探索结构”落地良好，工程侧再补若干“可鲁棒落地”的操作要点即可。

#### 证据与问题（按小节）
- 8_1（`ch08/8_1_business_challenge.qmd`）
  - 关键论断：无监督学习的意图是探索结构与关系，不追求“标准答案”。以客户细分为牵引，建立“簇内相似、簇间不同”的目标。
  - 认可点：叙事从业务意图切入，符合 VC；“探索 vs 预测”的 FP 区分到位。
  - 建议：在“度量与尺度”加一行提示：距离型方法（K-means/DBSCAN/层次）通常对特征尺度敏感，实践中先行标准化（或稳健缩放），并说明类别/文本等非常规变量的处理策略。

- 8_2 K-means（`ch08/8_2_kmeans.qmd`）
  - 关键论断：以最小化簇内平方和（Inertia）为目标，交替“分配-更新”直至稳定；展示种子敏感性与选 K 问题。
  - 认可点：公式与直觉解释恰当；提供“肘部法”和对比多个随机种子的动图资产。
  - 风险与边界：
    - “EM”表述建议改为“交替最优化，类似 EM 的 E/M 两步”，并明确只有在等方差各向同性高斯混合假设下才与 EM 的概率视角严格对齐。
    - 选 K 不应仅凭 Inertia；需与轮廓分数等指标联合判断；建议标注 `KMeans(n_init='auto', init='k-means++')` 的当前推荐做法，并设置 `random_state` 保证可复现。
    - 尺度敏感：应明确先 `StandardScaler` 再聚类；若使用稀疏数据，提示 `with_mean=False` 的限制（参见 sklearn 文档）。

- 8_3 超越 K-means（`ch08/8_3_beyond_kmeans.qmd`）
  - DBSCAN：解释 `eps`/`min_samples`、核心/边界/噪声直观；资产 `dbscan_live.html` 已有。
    - 建议补充：
      - `k`-距离曲线（k-dist plot）来选 `eps` 的实操方法；经验上 `min_samples≈维度+1` 的启发；高维下 DBSCAN 效果常退化的告警。
      - 说明 `metric` 可更换，且在“非欧式/预计算距离”情形要注意算法/复杂度（必要时退回 brute）。
  - 凝聚层次（Agglomerative）：已讲解 linkage 与树状图。
    - 建议补充：`affinity` 已更名为 `metric`（老参数弃用路径）；`ward` 仅用于欧氏；可用连通性约束提升可扩展性。
  - GMM：软分配与协方差类型的优势阐述清晰，资产 `gmm_interactive.html` 可视化良好。
    - 建议补充：用 AIC/BIC 选择 `n_components`；设置 `n_init>1` 与 `random_state`；解读 `converged_` 与 `lower_bounds_`。
  - 发现的问题：`dbscan_live` iframe 宽度属性存在引号错误：`width=700"`（应为 `width="700"`）。此为 P0 可用性问题。

- 8_4 聚类评估（`ch08/8_4_clustering_evaluation.qmd`）
  - 关键论断：内部指标以“簇内紧、簇间远”为准则；详解轮廓系数并提及 CH/DB 指标。
  - 建议补充：
    - 计算复杂度提示：`silhouette_score` 为 O(n^2)（全对全距离）；建议在大样本时采用分层/随机子样本近似；
    - 若有外部“弱标签”，可增补 ARI/AMI/V-measure 的外部一致性评估；
    - 指出指标对度量选择（欧氏/余弦/曼哈顿）敏感，需与预处理一致。

- 8_5 实践（`ch08/8_5_vibe_coding_practice.qmd`）
  - 认可点：完整任务链（标准化→扫 K→轮廓→可视化→画像），非常契合 VC。
  - 建议：
    - 数据合规与偏见提示：避免将敏感属性（如性别）直接用于定价/强干预策略；用于洞察可、用于决策需经治理与评审；
    - 在“解读质心”时，建议回到原始尺度展示质心坐标与关键统计量；
    - 增补一个使用 GMM `.predict_proba()` 识别“摇摆客户”的小练习，并解释灰度营销价值。

- 8_6 练习（`ch08/8_6_exercises.qmd`）
  - 内容契合本章要点。可新增：DBSCAN 的 `k`-距离曲线绘制题；GMM 的 AIC/BIC 曲线判读题。

#### 修订建议与优先级
- P0（阻断/错误）
  - 修复 `8_3` 中 `dbscan_live` 的 iframe 属性错误：将 `width=700"` 改为 `width="700"`；全章检查 iframe 属性一致性与自适应。

- P1（重要提升）
  - K-means：在文中显式推荐 `KMeans(n_init='auto', init='k-means++', random_state=...)`，并强调先 `StandardScaler`；说明 Inertia 仅作配角，需与轮廓/CH/DB联合。
  - DBSCAN：新增“k-dist 曲线选 eps”的预渲染资产与简短步骤说明；补充“高维退化/metric 选择/复杂度”的注意事项。
  - GMM：新增 AIC/BIC vs n_components 的曲线资产与简要结论写法；提示 `covariance_type` 选择的业务直觉（各向同性 vs 椭圆）。
  - 评估：在 8_4 增补“大样本 silhouette 采样策略”与“外部指标（ARI/AMI/V-measure）在有弱标签时使用”的段落。

- P2（打磨/一致性）
  - 在 8_5“画像”环节提供一个表格模板（簇标签、命名、均值/中位数/四分位、样本占比、画像文案、策略提示）。
  - 术语一致性：统一“簇/群体/cluster”与“簇心/质心/centroid”的翻译；“链接/linkage/凝聚（层次）”对齐。
  - 可达性：为主要配色与点标记提供色盲友好方案与 alt 文案（与 ch04 规范统一）。

#### 资源与可复现性
- 资产现状（已存在）：
  - `assets/ch08/kmeans_three_seeds_k_slider.html`
  - `assets/ch08/kmeans_elbow_plot.html`
  - `assets/ch08/dbscan_live.html`
  - `assets/ch08/hierarchical_clustering_dendrogram.html`
  - `assets/ch08/gmm_interactive.html`
- 建议新增资产：
  - `dbscan_kdist_plot.html`（k-距离曲线与阈值示意）；
  - `gmm_aic_bic_curve.html`（n_components 扫描）；
  - 大样本 `silhouette_subsample.html`（采样评估对比）。
- 代码与数据：
  - 在 `book/code/ch08/` 提供最小脚本：`kmeans_scaling_and_k.py`、`dbscan_kdist.py`、`gmm_aic_bic.py`，运行后输出上述 HTML；
  - 统一 `random_state`；数据标准化与度量在代码与文档表述保持一致。

#### 术语与引用（访问日期 2025-08）
- KMeans/MiniBatchKMeans 与 `n_init='auto'`、`k-means++`：scikit-learn Clustering 指南（KMeans/MiniBatchKMeans）
  - https://scikit-learn.org/stable/modules/clustering.html#k-means
- DBSCAN 与自定义度量/预计算距离/metric_params：
  - https://scikit-learn.org/stable/modules/clustering.html#dbscan
- AgglomerativeClustering（`affinity`→`metric` 变更，linkage 说明）：
  - https://scikit-learn.org/stable/modules/clustering.html#hierarchical-clustering
- GaussianMixture（`predict_proba`、`covariance_type`、AIC/BIC）：
  - https://scikit-learn.org/stable/modules/mixture.html#gaussian-mixture
- 聚类内部评估：`silhouette_score`、`calinski_harabasz_score`、`davies_bouldin_score`：
  - https://scikit-learn.org/stable/modules/clustering.html#clustering-performance-evaluation
- 外部一致性指标：ARI/AMI/V-measure/homogeneity/completeness：
  - https://scikit-learn.org/stable/modules/clustering.html#comparing-different-clusterings
- 标准化与稀疏数据注意事项（`StandardScaler(with_mean=False)` 等）：
  - https://scikit-learn.org/stable/modules/preprocessing.html#preprocessing-scaler

#### 状态与动作
- 审核状态：已完成（6/6）
- 后续动作：
  - P0：修复 `dbscan_live` iframe 宽度引号；
  - P1：补三类资产与相应段落的要点说明；
  - P2：统一术语/配色可达性与画像模板。


