---
title: "11.5 练习与思考"
---

恭喜你！你已经成功穿越了 Transformer 架构的核心地带，不仅理解了自注意力机制的内部原理，还亲眼“看”到了它的运作方式。现在，让我们通过以下练习来检验和巩固你的学习成果。

### 概念与分析题

1.  **多头注意力的意义**
    我们学习了，多头注意力机制通过并行的多个“头”，让模型能从不同角度、不同子空间去审视序列。请用一个生活中的例子，来类比解释为什么“多头”会比“单头”注意力更强大、更有效？
    
    *(提示：可以从“专家会诊”、“团队决策”或“从不同传感器融合信息”等角度去思考。)*

2.  **位置编码的必要性**
    想象一下，一个 Transformer 模型被设计用来完成“**情感分析**”任务（即判断一个句子的情感是积极还是消极）。现在，我们故意将这个模型中的**位置编码 (Positional Encoding)** 组件完全移除。
    
    你认为，对于情感分析这个特定任务，移除位置编码会产生灾难性的影响吗？还是说模型依然有可能学得不错？请阐述你的理由。
    *(提示：思考“词袋模型”能否用于情感分析，以及顺序在情感判断中的重要性。)*

### Vibe Coding 挑战

1.  **分析语法歧义句的注意力**
    在人类语言中，充满了各种有趣的歧义。理解模型如何处理这些歧义，是评估其语言能力的关键。现在，让我们用学到的注意力可视化技术，来挑战一个经典的语法歧义句。

    **任务**：回到你在 `11.4` 节的 Vibe Coding 实践。这一次，请将输入的句子换成下面这个著名的歧义句：
    `"I saw a man on a hill with a telescope."`

    这个句子的歧义在于：“望远镜（telescope）”到底是属于“我（I）”（我用望远镜看到了山上的男人），还是属于“山上的男人（a man on a hill）”（我看到了一个带着望远镜的、站在山上的男人）？

    > **提示 (Prompt):**
    >
    > “请复用我们之前的注意力可视化代码。但这一次，请将输入的句子改为：`'I saw a man on a hill with a telescope.'`
    >
    > 请帮我提取并可视化**多个不同层、不同头**的注意力图（例如，第1层第1头，第5层第3头，第8层第6头等）。我想观察一下，不同的注意力头是如何试图去‘理解’这个句子的歧义的。”

    **分析任务**：
    -   请仔细观察你生成的多张注意力图。
    -   重点关注 **"telescope"** 这一行。
    -   是否存在某个（或某些）注意力头，使得 "telescope" 对 "saw" 或 "I" 产生了较高的注意力权重？这可能代表了第一种解释（我用望远镜看）。
    -   是否存在另一个（或另一些）注意力头，使得 "telescope" 对 "man" 产生了较高的注意力权重？这可能代表了第二种解释（男人带着望远镜）。
    -   将你的发现截图，并撰写一段简短的分析报告，描述你观察到的现象。

    通过这个挑战，你将更深刻地体会到，多头注意力机制是如何通过让不同的头“分工合作”，来捕捉和表征语言中复杂的、甚至是不确定的语义关系的。
