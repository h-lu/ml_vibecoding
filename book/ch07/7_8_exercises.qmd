---
title: "7.8 练习与思考"
---

恭喜你完成了本章的学习！你已经掌握了机器学习军火库中最强大的武器之一。现在，让我们通过以下练习来检验和巩固你的知识。

### 概念题

1.  **核心思想辨析**
    请用你自己的话，简要描述 Bagging 和 Boosting 的核心思想，并说明它们各自主要致力于解决偏差（Bias）还是方差（Variance）问题？

2.  **随机森林的“两个随机”**
    随机森林的“随机”体现在哪两个方面？为什么说“特征随机”对于确保基学习器的多样性至关重要？

3.  **LightGBM vs. XGBoost**
    在一次面试中，面试官问你：“LightGBM 通常比 XGBoost 快，其主要原因是什么？” 你会如何从算法和数据结构层面回答这个问题？（至少说出两点核心差异）

4.  **关键参数的权衡**
    在调整 LightGBM 模型时，`num_leaves` 和 `max_depth` 都是控制树复杂度的重要参数。请问：
    -   它们之间有什么关系？
    -   为什么在 LightGBM 中，我们通常更关注 `num_leaves` 而不是 `max_depth`？
    -   如果设置了一个较小的 `max_depth` (例如 5)，同时设置一个很大的 `num_leaves` (例如 100)，实际生效的树的最大叶子节点数会是多少？为什么？

### 实践题

1.  **袋外误差 (OOB Error) 的应用**
    请在你上一节 Vibe Coding 实践的代码中，修改训练随机森林（或 LightGBM，通过设置 `bagging_fraction` 和 `bagging_freq` 来启用 bagging）的部分，开启 `oob_score`（或等效功能），并打印出模型的 OOB 分数。比较一下这个分数和你通过 `train_test_split` 划分出的验证集分数，它们是否相似？

### 思考与分析题

1.  **XAI 商业洞察报告**
    假设你是一家在线教育公司的机器学习架构师。你构建了一个预测“付费课程转化率”的 XGBoost 模型，并针对最重要的特征 **“用户在该平台的总学习时长 (total_study_time)”** 绘制了以下这张 SHAP 依赖图。
    
    图中，颜色代表了另一个被 SHAP 自动识别为交互最强的特征——**“是否购买过入门级课程 (bought_intro_course)”**。

<iframe src="../assets/ch07/shap_dependence_and_interaction.html" width="100%" height="800" frameborder="0"></iframe>

*(这是一个虚构的图表，用于本练习)*

**你的任务是**：基于上图，撰写一小段（约200字）的商业洞察分析报告，提交给你的业务部门同事。你的报告需要回答以下问题：

-   “总学习时长”是如何影响付费课程转化率的？（即解释X轴和Y轴的关系）
-   “是否购买过入门级课程”这个特征，是如何与“总学习时长”产生交互作用的？
-   基于以上两点，你能为业务部门提出什么可行的策略建议？（例如，我们应该向哪些用户群体重点推荐我们的付费课程？）
